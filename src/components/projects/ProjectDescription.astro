---
import type { ImageMetadata } from 'astro';
import Image from 'astro/components/Image.astro';
import VerticalSpacer from '../common/VerticalSpacer.astro';

interface Props {
    title: string;
    href: string;
    description: string;
    tags: string[];
    imgPath: string;
}

const { title, href, description, tags, imgPath } = Astro.props

const images = import.meta.glob<{ default: ImageMetadata }>('/src/assets/projects/*.{jpeg,jpg,png,gif}');

if (!images[imgPath]) throw new Error(`"${imgPath}" does not exist in glob: "src/assets/*.{jpeg,jpg,png,gif}"`);

const imgSrc = (await images[imgPath]()).default;

---

<a href={href}>
    <h2>{title}</h2>
    <VerticalSpacer height="12px"/>
    <p>{description}</p>
    <VerticalSpacer height="16px"/>
    <div class="tags">
        {tags.map(tag => (
            <span class="tag">{tag}</span>
        ))}
    </div>
    <VerticalSpacer height="16px"/>
    <Image class="project-image" src={imgSrc} alt="A picture of a soap bottle"/>
</a>


<style>
    .project-image{
        width: 100%;
        height: auto;
    }
    a {
        text-decoration: unset;
        color: unset;
    }
    h2 {
        font-size: 32px;
        margin: 0;
    }
    p {
        font-size: 20px;
        margin: 0;
    }

    .tags {
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
    }

    .tag {
        border-radius: 30px;
        border: 1px solid #684148;
        background: rgba(217, 217, 217, 0.00);
        padding: 9px;
        font-weight: 600;
        font-size: 20px;
    }
</style>
