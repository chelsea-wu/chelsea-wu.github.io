---
import NavLink from "./NavLink.astro"
import nav_links from "../../utils/nav_links.json"
import {getPath, matchPaths} from "../../utils/path"

const {pathname} = Astro.url;
const background_color = nav_links.find(link => matchPaths(getPath(link.to), pathname)).background ?? "";
---

<nav style={{backgroundColor: background_color}}>
    <ul>
        {nav_links.map(route => ( 
            <li>
                <NavLink text={route.title} to={getPath(route.to)} selected={pathname === route.to} new_tab ={route.new_tab}/>
            </li> 
        ))}
    </ul>
</nav>

<style>
nav{
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    padding: 2rem;
    box-sizing: border-box;
    font-family: Josefin Sans;
    z-index: 10;
}

ul{
    display: flex;
    list-style-type: none;
    justify-content: center;
    margin: 0;
    padding: 0;
    gap: 5rem;
    color: white;
}

</style>